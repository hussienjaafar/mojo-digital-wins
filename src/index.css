/* Import React Grid Layout styles - MUST be before tailwind directives */
@import './components/dashboard/dashboard-grid.css';
@import './styles/accessibility.css';

@tailwind base;
@tailwind components;
@tailwind utilities;

/* Definition of the design system. All colors, gradients, fonts, etc should be defined here. 
All colors MUST be HSL.
*/

@layer base {
  :root {
    --background: 0 0% 100%;
    --foreground: 213 75% 15%;

    --card: 0 0% 100%;
    --card-foreground: 213 75% 15%;

    --popover: 0 0% 100%;
    --popover-foreground: 213 75% 15%;

    --primary: 213 75% 15%;
    --primary-foreground: 0 0% 100%;

    --secondary: 213 83% 47%;
    --secondary-foreground: 0 0% 100%;

    --muted: 213 20% 95%;
    --muted-foreground: 213 25% 40%;

    --accent: 45 89% 57%;
    --accent-foreground: 213 75% 15%;

    --destructive: 0 78% 53%;
    --destructive-foreground: 0 0% 100%;

    --border: 213 20% 90%;
    --input: 213 20% 90%;
    --ring: 213 83% 47%;

    --radius: 0.5rem;

    /* Progressive brand colors */
    --navy: 213 75% 15%;
    --blue: 213 83% 47%;
    --red: 0 78% 53%;
    --yellow: 45 89% 57%;

    /* Gradients - Movement Power */
    --gradient-hero: linear-gradient(135deg, hsl(213 75% 15%) 0%, hsl(213 83% 47%) 50%, hsl(0 78% 53%) 100%);
    --gradient-power: linear-gradient(120deg, hsl(213 75% 12%) 0%, hsl(213 83% 47%) 50%, hsl(213 75% 15%) 100%);
    --gradient-accent: linear-gradient(90deg, hsl(213 83% 47%) 0%, hsl(0 78% 53%) 100%);
    --gradient-urgent: linear-gradient(135deg, hsl(0 78% 53%) 0%, hsl(0 85% 45%) 100%);
    --gradient-subtle: linear-gradient(180deg, hsl(0 0% 100%) 0%, hsl(213 20% 98%) 100%);
    --gradient-diagonal: linear-gradient(135deg, hsl(213 75% 15%) 0%, hsl(213 83% 47%) 100%);
    --gradient-overlay: linear-gradient(180deg, hsl(213 75% 15% / 0.9) 0%, hsl(213 75% 15% / 0.7) 100%);

    /* Shadows - Bold Impact */
    --shadow-sm: 0 2px 8px hsl(213 75% 15% / 0.1);
    --shadow-md: 0 4px 16px hsl(213 75% 15% / 0.15);
    --shadow-lg: 0 8px 32px hsl(213 75% 15% / 0.2);
    --shadow-xl: 0 12px 48px hsl(213 75% 15% / 0.25);
    --shadow-elegant: 0 10px 40px hsl(213 75% 15% / 0.12);
    --shadow-glow: 0 0 30px hsl(213 83% 47% / 0.3);
    --shadow-glow-red: 0 0 40px hsl(0 78% 53% / 0.4);
    --shadow-brutal: 8px 8px 0px hsl(0 78% 53%);
    --shadow-inset: inset 0 2px 8px hsl(213 75% 15% / 0.1);
    
    /* Transitions */
    --transition-base: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    --transition-smooth: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
    --transition-elegant: all 0.6s cubic-bezier(0.4, 0, 0.2, 1);

    /* Typography Scale */
    --font-size-xs: 0.75rem;
    --font-size-sm: 0.875rem;
    --font-size-base: 1rem;
    --font-size-lg: 1.125rem;
    --font-size-xl: 1.25rem;
    --font-size-2xl: 1.5rem;
    --font-size-3xl: 1.875rem;
    --font-size-4xl: 2.25rem;
    --font-size-5xl: 3rem;
    --font-size-6xl: 3.75rem;
    --font-size-7xl: 4.5rem;

    /* Font Weights */
    --font-weight-light: 300;
    --font-weight-normal: 400;
    --font-weight-medium: 500;
    --font-weight-semibold: 600;
    --font-weight-bold: 700;
    --font-weight-extrabold: 800;
    --font-weight-black: 900;

    /* Line Heights */
    --line-height-tight: 1.25;
    --line-height-snug: 1.375;
    --line-height-normal: 1.5;
    --line-height-relaxed: 1.625;
    --line-height-loose: 2;

    /* Letter Spacing */
    --letter-spacing-tighter: -0.05em;
    --letter-spacing-tight: -0.025em;
    --letter-spacing-normal: 0;
    --letter-spacing-wide: 0.025em;
    --letter-spacing-wider: 0.05em;
  }

  .dark {
    /* True dark backgrounds for proper dark mode */
    --background: 220 15% 8%;
    --foreground: 0 0% 98%;

    --card: 220 15% 12%;
    --card-foreground: 0 0% 98%;

    --popover: 220 15% 10%;
    --popover-foreground: 0 0% 98%;

    /* Desaturated primary for dark mode - less vibrant */
    --primary: 213 40% 45%;
    --primary-foreground: 0 0% 100%;

    --secondary: 220 15% 20%;
    --secondary-foreground: 0 0% 98%;

    --muted: 220 15% 18%;
    --muted-foreground: 220 10% 75%;

    --accent: 45 70% 55%;
    --accent-foreground: 220 15% 10%;

    --destructive: 0 65% 55%;
    --destructive-foreground: 0 0% 100%;

    --border: 220 15% 25%;
    --input: 220 15% 20%;
    --ring: 213 40% 55%;

    /* Progressive brand colors - dark mode adjusted (desaturated) */
    --navy: 213 40% 50%;
    --blue: 213 40% 50%;
    --red: 0 65% 55%;
    --yellow: 45 70% 60%;

    /* Gradients - Dark Mode Optimized with dark backgrounds */
    --gradient-hero: linear-gradient(135deg, hsl(220 15% 10%) 0%, hsl(220 15% 15%) 50%, hsl(220 15% 12%) 100%);
    --gradient-power: linear-gradient(120deg, hsl(220 15% 8%) 0%, hsl(220 15% 14%) 50%, hsl(220 15% 10%) 100%);
    --gradient-accent: linear-gradient(90deg, hsl(213 40% 45%) 0%, hsl(0 65% 55%) 100%);
    --gradient-urgent: linear-gradient(135deg, hsl(0 65% 55%) 0%, hsl(0 70% 50%) 100%);
    --gradient-subtle: linear-gradient(180deg, hsl(220 15% 8%) 0%, hsl(220 15% 12%) 100%);
    --gradient-diagonal: linear-gradient(135deg, hsl(220 15% 10%) 0%, hsl(213 40% 40%) 100%);
    --gradient-overlay: linear-gradient(180deg, hsl(220 15% 8% / 0.95) 0%, hsl(220 15% 8% / 0.85) 100%);

    /* Shadows - Dark Mode Optimized */
    --shadow-sm: 0 2px 8px hsl(0 0% 0% / 0.5);
    --shadow-md: 0 4px 16px hsl(0 0% 0% / 0.6);
    --shadow-lg: 0 8px 32px hsl(0 0% 0% / 0.7);
    --shadow-xl: 0 12px 48px hsl(0 0% 0% / 0.8);
    --shadow-elegant: 0 10px 40px hsl(0 0% 0% / 0.6);
    --shadow-glow: 0 0 30px hsl(213 40% 50% / 0.3);
    --shadow-glow-red: 0 0 40px hsl(0 65% 55% / 0.4);
    --shadow-brutal: 8px 8px 0px hsl(0 65% 45%);
    --shadow-inset: inset 0 2px 8px hsl(0 0% 0% / 0.4);
  }
}

@layer base {
  * {
    @apply border-border;
    transition: background-color 0.3s cubic-bezier(0.4, 0, 0.2, 1),
                border-color 0.3s cubic-bezier(0.4, 0, 0.2, 1),
                color 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  }

  body {
    @apply bg-background text-foreground;
    font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
    overflow-x: hidden;
  }

  html {
    overflow-x: hidden;
  }

  /* Activist Typography - Bebas Neue for headlines */
  h1, h2, .text-display, .text-headline {
    font-family: 'Bebas Neue', 'Inter', sans-serif;
    letter-spacing: 0.02em;
  }
}

@layer utilities {
  /* Typography Utilities - Activist Poster Style with Mobile Responsiveness */
  .text-display {
    font-size: clamp(2rem, 8vw, 5.5rem);
    font-weight: 900;
    line-height: 1.1;
    letter-spacing: 0.02em;
    text-transform: uppercase;
    text-shadow: 0 4px 20px rgba(0, 0, 0, 0.5),
                 0 0 40px rgba(33, 150, 243, 0.3);
  }

  .text-headline {
    font-size: clamp(2rem, 5vw, var(--font-size-5xl));
    font-weight: 400;
    line-height: 0.95;
    letter-spacing: 0.02em;
    text-transform: uppercase;
  }

  .text-subheadline {
    font-size: clamp(1.5rem, 3vw, var(--font-size-3xl));
    font-weight: var(--font-weight-bold);
    line-height: var(--line-height-snug);
    letter-spacing: var(--letter-spacing-tight);
  }

  .text-body-large {
    font-size: var(--font-size-xl);
    font-weight: var(--font-weight-medium);
    line-height: var(--line-height-relaxed);
  }

  .text-body {
    font-size: var(--font-size-base);
    font-weight: var(--font-weight-normal);
    line-height: var(--line-height-normal);
  }
  
  /* Subtle Pulse Animation for Metrics */
  .animate-pulse-subtle {
    animation: pulse-subtle 3s cubic-bezier(0.4, 0, 0.6, 1) infinite;
  }
  
  @keyframes pulse-subtle {
    0%, 100% {
      opacity: 1;
      transform: scale(1);
    }
    50% {
      opacity: 0.95;
      transform: scale(1.02);
    }
  }

  /* Float Animation for Pattern Shapes */
  .animate-float {
    animation: float 6s ease-in-out infinite;
  }

  @keyframes float {
    0%, 100% {
      transform: translateY(0) rotate(0deg);
    }
    50% {
      transform: translateY(-20px) rotate(5deg);
    }
  }

  /* SVG Path Drawing Animations */
  @keyframes draw-path {
    0% {
      stroke-dasharray: 1000;
      stroke-dashoffset: 1000;
      opacity: 0;
    }
    10% {
      opacity: 0.3;
    }
    100% {
      stroke-dasharray: 1000;
      stroke-dashoffset: 0;
      opacity: 0.3;
    }
  }

  .animate-draw-path {
    animation: draw-path 8s ease-in-out infinite;
  }

  .animate-draw-path-delayed-1 {
    animation: draw-path 8s ease-in-out infinite;
    animation-delay: 2s;
  }

  .animate-draw-path-delayed-2 {
    animation: draw-path 8s ease-in-out infinite;
    animation-delay: 4s;
  }

  .animate-draw-path-delayed-3 {
    animation: draw-path 8s ease-in-out infinite;
    animation-delay: 6s;
  }

  .animate-draw-path-slow {
    animation: draw-path 10s ease-in-out infinite;
  }

  /* Shimmer Animation for Particle Button */
  @keyframes shimmer {
    0% {
      background-position: -200% 0;
    }
    100% {
      background-position: 200% 0;
    }
  }

  .animate-shimmer {
    animation: shimmer 2s linear infinite;
  }

  .text-caption {
    font-size: var(--font-size-sm);
    font-weight: var(--font-weight-normal);
    line-height: var(--line-height-normal);
  }

  /* Hover Effects */
  .hover-lift {
    @apply transition-all duration-300 ease-out;
  }

  .hover-lift:hover {
    transform: translateY(-4px);
    box-shadow: var(--shadow-elegant);
  }

  .hover-scale {
    @apply transition-transform duration-300 ease-out;
  }

  .hover-scale:hover {
    transform: scale(1.02);
  }

  .hover-glow {
    @apply transition-all duration-300 ease-out;
  }

  .hover-glow:hover {
    box-shadow: var(--shadow-glow);
  }

  /* Diagonal Section Dividers - Mobile Optimized */
  .diagonal-top {
    clip-path: polygon(0 3%, 100% 0%, 100% 100%, 0% 100%);
    margin-top: -1.5rem;
    padding-top: 4rem;
  }

  .diagonal-bottom {
    clip-path: polygon(0 0, 100% 0, 100% 97%, 0% 100%);
    padding-bottom: 4rem;
    margin-bottom: -1.5rem;
  }

  .diagonal-both {
    clip-path: polygon(0 3%, 100% 0%, 100% 97%, 0% 100%);
    margin: -1.5rem 0;
    padding: 4rem 0;
  }

  @media (min-width: 768px) {
    .diagonal-top {
      clip-path: polygon(0 5%, 100% 0%, 100% 100%, 0% 100%);
      margin-top: -3rem;
      padding-top: 6rem;
    }

    .diagonal-bottom {
      clip-path: polygon(0 0, 100% 0, 100% 95%, 0% 100%);
      padding-bottom: 6rem;
      margin-bottom: -3rem;
    }

    .diagonal-both {
      clip-path: polygon(0 5%, 100% 0%, 100% 95%, 0% 100%);
      margin: -3rem 0;
      padding: 6rem 0;
    }
  }

  /* Torn Paper Effect */
  .torn-edge {
    position: relative;
  }

  .torn-edge::after {
    content: '';
    position: absolute;
    bottom: -2px;
    left: 0;
    right: 0;
    height: 20px;
    background: linear-gradient(to right, transparent 0%, currentColor 2%, transparent 4%, currentColor 6%, transparent 8%, currentColor 10%, transparent 12%, currentColor 14%, transparent 16%, currentColor 18%, transparent 20%, currentColor 22%, transparent 24%, currentColor 26%, transparent 28%, currentColor 30%, transparent 32%, currentColor 34%, transparent 36%, currentColor 38%, transparent 40%, currentColor 42%, transparent 44%, currentColor 46%, transparent 48%, currentColor 50%, transparent 52%, currentColor 54%, transparent 56%, currentColor 58%, transparent 60%, currentColor 62%, transparent 64%, currentColor 66%, transparent 68%, currentColor 70%, transparent 72%, currentColor 74%, transparent 76%, currentColor 78%, transparent 80%, currentColor 82%, transparent 84%, currentColor 86%, transparent 88%, currentColor 90%, transparent 92%, currentColor 94%, transparent 96%, currentColor 98%, transparent 100%);
  }

  /* Brutal Box Shadow */
  .brutal-shadow {
    box-shadow: var(--shadow-brutal);
    transition: transform 0.2s ease, box-shadow 0.2s ease;
  }

  .brutal-shadow:hover {
    transform: translate(4px, 4px);
    box-shadow: 4px 4px 0px hsl(0 78% 53%);
  }

  /* Textured Background */
  .texture-overlay {
    position: relative;
  }

  .texture-overlay::before {
    content: '';
    position: absolute;
    inset: 0;
    background-image: 
      repeating-linear-gradient(
        45deg,
        transparent,
        transparent 10px,
        hsl(213 75% 15% / 0.02) 10px,
        hsl(213 75% 15% / 0.02) 20px
      );
    pointer-events: none;
  }

  /* Movement Energy Glow */
  .energy-glow {
    position: relative;
  }

  .energy-glow::before {
    content: '';
    position: absolute;
    inset: -20px;
    background: radial-gradient(circle, hsl(213 83% 47% / 0.2) 0%, transparent 70%);
    animation: pulse-energy 3s ease-in-out infinite;
    pointer-events: none;
  }

  @keyframes pulse-energy {
    0%, 100% { opacity: 0.5; transform: scale(0.95); }
    50% { opacity: 1; transform: scale(1.05); }
  }

  /* Glitch Effect */
  .glitch {
    position: relative;
  }

  .glitch:hover::before,
  .glitch:hover::after {
    content: attr(data-text);
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
  }

  .glitch:hover::before {
    animation: glitch-1 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94) both infinite;
    color: hsl(0 78% 53%);
    z-index: -1;
  }

  .glitch:hover::after {
    animation: glitch-2 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94) reverse both infinite;
    color: hsl(213 83% 47%);
    z-index: -1;
  }

  @keyframes glitch-1 {
    0%, 100% { transform: translate(0); }
    20% { transform: translate(-2px, 2px); }
    40% { transform: translate(-2px, -2px); }
    60% { transform: translate(2px, 2px); }
    80% { transform: translate(2px, -2px); }
  }

  @keyframes glitch-2 {
    0%, 100% { transform: translate(0); }
    20% { transform: translate(2px, -2px); }
    40% { transform: translate(2px, 2px); }
    60% { transform: translate(-2px, -2px); }
    80% { transform: translate(-2px, 2px); }
  }

  /* Smooth Scrolling with Enhanced Animation */
  @media (prefers-reduced-motion: no-preference) {
    html {
      scroll-behavior: smooth;
      scroll-padding-top: 80px; /* Account for fixed navigation */
    }
    
    /* Smooth scroll animation for sections */
    section, [id] {
      scroll-margin-top: 100px; /* Extra padding for better positioning */
    }
  }
  
  /* For users who prefer reduced motion */
  @media (prefers-reduced-motion: reduce) {
    html {
      scroll-behavior: auto;
    }
  }

  /* Animated Gradient Background */
  .animated-gradient-bg {
    background: linear-gradient(
      135deg,
      hsl(213 75% 15%),
      hsl(213 83% 47%),
      hsl(0 78% 53%),
      hsl(213 75% 15%)
    );
    background-size: 300% 300%;
    animation: gradient-shift 8s ease infinite;
  }

  /* Hero Effects */
  .hero-headline-impact {
    text-shadow: 0 2px 8px rgba(10, 30, 62, 0.8),
                 0 4px 16px rgba(10, 30, 62, 0.6),
                 0 0 40px rgba(20, 100, 217, 0.3);
  }

  .hero-parallax-bg {
    animation: parallax-drift 20s ease-in-out infinite;
    transform-origin: center center;
  }

  @keyframes parallax-drift {
    0%, 100% { transform: scale(1.1) translateY(0); }
    50% { transform: scale(1.15) translateY(-10px); }
  }

  @keyframes swipe-right {
    0% { 
      transform: scaleX(0);
      transform-origin: left;
      opacity: 0;
    }
    100% { 
      transform: scaleX(1);
      transform-origin: left;
      opacity: 1;
    }
  }

  .animate-swipe-right {
    animation: swipe-right 0.8s cubic-bezier(0.4, 0, 0.2, 1) both;
  }

  @keyframes scroll-left {
    0% { transform: translateX(0); }
    100% { transform: translateX(-50%); }
  }

  .animate-scroll-left {
    animation: scroll-left 30s linear infinite;
  }

  .drop-shadow-glow {
    filter: drop-shadow(0 0 8px currentColor);
  }

  /* Premium CTA with soft glow */
  .hero-cta-premium {
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  }

  /* KPI Card Enhanced with Glow Ring */
  .kpi-glow-ring {
    position: relative;
  }

  .kpi-glow-ring::before {
    content: '';
    position: absolute;
    inset: -2px;
    border-radius: 10px;
    padding: 2px;
    background: linear-gradient(135deg, transparent 0%, rgba(20, 100, 217, 0.4) 50%, transparent 100%);
    -webkit-mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
    -webkit-mask-composite: xor;
    mask-composite: exclude;
    opacity: 0;
    transition: opacity 0.3s ease;
  }

  .kpi-glow-ring:hover::before {
    opacity: 1;
  }

  /* KPI Card Pulse on Count Finish */
  .kpi-card-pulse {
    animation: kpi-subtle-pulse 2.5s ease-in-out 1;
    animation-delay: 0.7s;
  }

  @keyframes kpi-subtle-pulse {
    0%, 100% { transform: scale(1); }
    50% { transform: scale(1.03); }
  }

  /* Scroll Reveal Animations */
  .scroll-reveal {
    opacity: 0;
    transform: translateY(30px);
    animation: scroll-fade-in 0.8s cubic-bezier(0.4, 0, 0.2, 1) forwards;
  }

  @keyframes scroll-fade-in {
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  /* Work Preview Card Hover Effects */
  .work-preview-card {
    opacity: 0;
    transform: translateY(20px) scale(0.98);
    animation: work-card-reveal 0.6s cubic-bezier(0.4, 0, 0.2, 1) forwards;
  }

  @keyframes work-card-reveal {
    to {
      opacity: 1;
      transform: translateY(0) scale(1);
    }
  }

  /* Animated Circles - Subtle Background Movement */
  .animated-circles {
    position: absolute;
    inset: 0;
    overflow: hidden;
    pointer-events: none;
  }

  .circle-shape {
    position: absolute;
    border-radius: 50%;
    opacity: 0.4;
    filter: blur(40px);
    will-change: transform;
  }

  .circle-1 {
    width: 800px;
    height: 800px;
    background: hsl(var(--secondary));
    top: -300px;
    right: -300px;
    animation: circle-float-1 12s ease-in-out infinite;
  }

  .circle-2 {
    width: 900px;
    height: 900px;
    background: hsl(var(--destructive));
    bottom: -350px;
    left: -350px;
    animation: circle-float-2 15s ease-in-out infinite;
  }

  .circle-3 {
    width: 700px;
    height: 700px;
    background: hsl(var(--accent));
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    animation: circle-float-3 14s ease-in-out infinite;
  }

  .circle-4 {
    width: 650px;
    height: 650px;
    background: hsl(var(--secondary));
    top: 10%;
    left: 5%;
    animation: circle-float-1 13s ease-in-out infinite reverse;
  }

  .circle-5 {
    width: 580px;
    height: 580px;
    background: hsl(var(--destructive));
    bottom: 15%;
    right: 10%;
    animation: circle-float-2 11s ease-in-out infinite reverse;
  }

  /* Reduced Motion Support */
  @media (prefers-reduced-motion: reduce) {
    *,
    *::before,
    *::after {
      animation-duration: 0.01ms !important;
      animation-iteration-count: 1 !important;
      transition-duration: 0.01ms !important;
    }
  }
}

/* Sidebar design tokens to fix mobile sheet legibility */
@layer base {
  :root {
    /* Map sidebar tokens to existing design system variables (HSL numbers) */
    --sidebar-background: var(--card);
    --sidebar-foreground: var(--foreground);
    --sidebar-primary: var(--primary);
    --sidebar-primary-foreground: var(--primary-foreground);
    --sidebar-accent: var(--muted);
    --sidebar-accent-foreground: var(--foreground);
    --sidebar-border: var(--border);
    --sidebar-ring: var(--ring);
  }

  .dark {
    /* Dark mode values derive from dark tokens defined above */
    --sidebar-background: var(--card);
    --sidebar-foreground: var(--foreground);
    --sidebar-primary: var(--primary);
    --sidebar-primary-foreground: var(--primary-foreground);
    --sidebar-accent: var(--muted);
    --sidebar-accent-foreground: var(--foreground);
    --sidebar-border: var(--border);
    --sidebar-ring: var(--ring);
  }
}

